(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(18),r=n.n(i),a=(n(25),n(26),n(9)),s=n(2),o=n(8),u=n(7),l=n.n(u),d=n(11),j=n(12),h=n(0);var b=function(e){return Object(h.jsxs)("div",{className:"hikeCardAdmin",children:[Object(h.jsx)("img",{src:e.imageUrl,alt:""}),Object(h.jsx)("h3",{children:e.title}),Object(h.jsx)("p",{children:e.uuid}),Object(h.jsx)("a",{href:"",children:"Delete"})]})};var p=function(e){var t=e.show?"modal display-block":"modal display-none",n=Object(c.useRef)(),i=function(t){"Escape"===t.code&&(e.handleClose(),e.closeEditing())},r=function(t){n.current.contains(t.target)||(e.handleClose(),e.closeEditing())};return Object(c.useEffect)((function(){return document.addEventListener("keydown",i),document.addEventListener("mousedown",r),function(){document.removeEventListener("keydown",i),document.removeEventListener("mousedown",r)}}),[]),Object(h.jsx)("div",{className:t,children:Object(h.jsxs)("section",{ref:n,className:"modal-main",children:[e.children,Object(h.jsx)("button",{type:"button",onClick:e.handleClose,children:"Close"})]})})};var O=function(e){return Object(h.jsx)(h.Fragment,{children:e.isEditing?Object(h.jsx)("span",{children:e.children}):Object(h.jsx)("span",{children:e.title})})};var x=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),a=Object(j.a)(r,2),s=a[0],u=a[1],x=Object(c.useState)({}),f=Object(j.a)(x,2),m=f[0],v=f[1],k=Object(c.useState)(!1),g=Object(j.a)(k,2),w=g[0],E=g[1],C=Object(c.useState)({title:"",imageUrl:"",date:"",description:"",location:""}),y=Object(j.a)(C,2),N=y[0],U=y[1];Object(c.useEffect)((function(){return H()}),[]),Object(c.useEffect)((function(){if(m.uuid){var e=D(m.uuid);v(e)}}),[n]);var H=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={error:"unknown"},"https://wbshikingclub.herokuapp.com/api/hikes",e.prev=2,e.next=5,fetch("https://wbshikingclub.herokuapp.com/api/hikes",{cache:"no-cache"});case 5:if(!(n=e.sent).ok){e.next=12;break}return e.next=9,n.json();case 9:t=e.sent,c=t.map((function(e){return{title:e.title||"",description:e.description||"",location:e.location||"",uuid:e.uuid,imageUrl:e.imageUrl||"https://via.placeholder.com/150",date:e.date||(new Date).toLocaleDateString("fr-ca")}})),i(c);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),t.error=e.t0.message;case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),L=function(){u(!1)},D=function(e){return n.find((function(t){return t.uuid===e}))},S=function(e){u(!0);var t=D(e);v(t)},I=function(e){return new Date(e).toLocaleDateString("fr-ca")},T=function(){U({title:"",imageUrl:"",date:"",description:"",location:""}),E(!1)},A=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://wbshikingclub.herokuapp.com/api/hikes",c="".concat("https://wbshikingclub.herokuapp.com/api/hikes","/").concat(n),i={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=5,fetch(c,i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(N,t);case 2:T(),H();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://wbshikingclub.herokuapp.com/api/hikes",n="".concat("https://wbshikingclub.herokuapp.com/api/hikes","/").concat(t),c={method:"DELETE",headers:{"Content-Type":"application/json"}},L(),e.next=6,fetch(n,c);case 6:return e.next=8,H();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:T();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=Object(h.jsx)("div",{});return m&&(R=Object(h.jsxs)(p,{show:s,closeEditing:T,handleClose:L,children:[Object(h.jsx)("img",{src:m.imageUrl,alt:"hike"}),Object(h.jsxs)("p",{children:["Hike UUID: ",m.uuid]}),w?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return T()},children:"Cancel"}),Object(h.jsx)("button",{onClick:function(){return J(m.uuid)},children:"Update"})]}):Object(h.jsx)("button",{onClick:function(){U(m),E(!0)},children:"Edit Hike Info"}),Object(h.jsx)("button",{onClick:function(){return F(m.uuid)},children:"!!! DELETE HIKE !!!"}),Object(h.jsxs)("div",{className:"editSection",children:[Object(h.jsx)("span",{children:"Hike Title: "}),Object(h.jsx)(O,{isEditing:w,title:m.title,children:Object(h.jsx)("input",{type:"text",placeholder:m.title,value:N.title,onChange:function(e){U(Object(o.a)(Object(o.a)({},N),{},{title:e.target.value}))}})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"Hike Image URL: "}),Object(h.jsx)(O,{isEditing:w,title:m.imageUrl,children:Object(h.jsx)("input",{type:"text",placeholder:m.imageUrl,value:N.imageUrl,onChange:function(e){return U(Object(o.a)(Object(o.a)({},N),{},{imageUrl:e.target.value}))}})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"Hike Date: "}),Object(h.jsx)(O,{isEditing:w,title:I(m.date),children:Object(h.jsx)("input",{type:"date",placeholder:I(m.date),value:I(N.date),onChange:function(e){return U(Object(o.a)(Object(o.a)({},N),{},{date:e.target.value}))}})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"Hike Description: "}),Object(h.jsx)(O,{isEditing:w,title:m.description,children:Object(h.jsx)("input",{type:"text",placeholder:m.description,value:N.description,onChange:function(e){return U(Object(o.a)(Object(o.a)({},N),{},{description:e.target.value}))}})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"Hike Location: "}),Object(h.jsx)(O,{isEditing:w,title:m.location,children:Object(h.jsx)("input",{type:"text",placeholder:m.location,value:N.location,onChange:function(e){return U(Object(o.a)(Object(o.a)({},N),{},{location:e.target.value}))}})})]})]})),Object(h.jsxs)("div",{className:"hikeList",children:[n.map((function(e){return Object(h.jsx)("div",{onClick:function(){return S(e.uuid)},children:Object(h.jsx)(b,{title:e.title,uuid:e.uuid,imageUrl:e.imageUrl})},e.uuid)})),R]})};var f=function(){return Object(h.jsx)("div",{children:"'ello I am News"})};var m=function(){return Object(h.jsx)("div",{children:"Oi, I am Hikers"})};var v=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"/",children:Object(h.jsx)("div",{children:"Hello, choose one of the tabs to see and edit more info about our Hikes, News and Hikers!"})}),Object(h.jsx)(s.a,{path:"/hikes",children:Object(h.jsx)(x,{})}),Object(h.jsx)(s.a,{path:"/news",children:Object(h.jsx)(f,{})}),Object(h.jsx)(s.a,{path:"/hikers",children:Object(h.jsx)(m,{})})]})})};var k=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header",children:Object(h.jsxs)("nav",{className:"NavButtons",children:[Object(h.jsx)("div",{className:"logout",children:Object(h.jsx)("a",{href:"https://wbshikingclub.herokuapp.com/",children:"Log out"})}),Object(h.jsx)(a.b,{to:"/hikes",activeClassName:"selected",children:"Hikes"}),Object(h.jsx)(a.b,{to:"/news",activeClassName:"selected",children:"News"}),Object(h.jsx)(a.b,{to:"/hikers",activeClassName:"selected",children:"Hikers"})]})}),Object(h.jsx)(v,{})]})};r.a.render(Object(h.jsx)(a.a,{basename:"/hikingclub-admin",children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.efaf3dba.chunk.js.map